{% load seeker %}
{% load i18n %}

{% block header %}
    {% if current_search %}
        <form class="pull-right" action="{{ form_action }}" method="post">
            {% csrf_token %}
            <input type="hidden" name="querystring" value="{{ querystring }}" />
            <button type="submit" name="_delete" class="btn btn-default btn-xs"><i class="fa fa-times"></i> Delete</button>
        </form>
        <h2>{{ current_search }}</h2>
    {% endif %}
{% endblock header %}

<div class="table-responsive">
    <table class="table table-striped table-condensed table-seeker">
        <thead>
            <tr>
                {% block pre-headers %}{% endblock pre-headers %}
                {% if show_rank and keywords %}
                    <th class="sort"><a href="?{{ reset_querystring }}">{% trans "Rank" %}</a></th>
                {% endif %}
                {% for col in display_columns %}
                    {{ col.header }}
                {% endfor %}
                {% block post-headers %}{% endblock post-headers %}
            </tr>
        </thead>
        <tbody>
            {% block results %}
	            {% for result in results %}
	                <tr>
	                    {% block pre-columns %}{% endblock pre-columns %}
	                    {% if show_rank and keywords %}
	                        <td>{% seeker_score result results.hits.max_score %}</td>
	                    {% endif %}
	                    {% for col in display_columns %}
	                        {% seeker_column col result %}
	                    {% endfor %}
	                    {% block post-columns %}{% endblock post-columns %}
	                </tr>
	            {% endfor %}
            {% endblock results %}
        </tbody>
    </table>
</div>

{% block footer %}
    {% include "seeker/footer.html" %}
{% endblock footer %}
